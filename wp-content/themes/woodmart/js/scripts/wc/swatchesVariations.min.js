!function(a){woodmartThemeModule.$document.on("wdQuickShopSuccess wdQuickViewOpen wdUpdateWishlist",function(){woodmartThemeModule.swatchesVariations()}),woodmartThemeModule.swatchesVariations=function(){var b=a(".variations_form"),c=!1,d=!1;a(".variations_form .label").on("click",function(b){a(this).siblings(".value").hasClass("with-swatches")&&b.preventDefault()}),b.each(function(){var b=a(this);b.data("swatches")||(b.data("swatches",!0),b.data("product_variations")||b.find(".swatches-select").find("> div").addClass("swatch-enabled"),a(".swatches-select > div").hasClass("active-swatch")&&b.addClass("variation-swatch-selected"),b.on("click",".swatches-select > div",function(){var c=a(this),d=c.data("value"),f=c.parent().data("id"),g=c.data("title");e(b),c.hasClass("active-swatch")||c.hasClass("swatch-disabled")||(b.find("select#"+f).val(d).trigger("change"),c.parent().find(".active-swatch").removeClass("active-swatch"),c.addClass("active-swatch"),e(b),("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&c.parents("tr").find(".wd-attr-selected").html(g))}).on("woocommerce_update_variation_values",function(){e(b)}).on("click",".reset_variations",function(){b.find(".active-swatch").removeClass("active-swatch"),("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&b.find(".wd-attr-selected").html("")}).on("reset_data",function(){var d=a(this),g=!0,i=!1;b.find(".variations select").each(function(){0===(d.val()||"").length?g=!1:i=!0}),g&&d.parent().find(".active-swatch").removeClass("active-swatch"),b.removeClass("variation-swatch-selected");var j=a(".woocommerce-product-gallery__wrapper.owl-carousel");if(e(b),m("default",b),j.hasClass("owl-carousel")){"yes"===woodmart_settings.product_slider_auto_height?(!f()&&h("default",b)&&c&&j.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){j=j.owlCarousel(woodmartThemeModule.mainCarouselArg),j.trigger("refresh.owl.carousel")})):(j=j.owlCarousel(woodmartThemeModule.mainCarouselArg),j.trigger("refresh.owl.carousel"));var k="centered"===woodmart_settings.product_gallery.thumbs_slider.position?woodmart_settings.centered_gallery_start:0;f()&&(k=0),j.trigger("to.owl.carousel",k)}}).on("reset_image",function(){var c=a(".thumbnails .product-image-thumbnail img").first();f()||g(b)||c.wc_reset_variation_attr("src")}).on("show_variation",function(e,i){if(("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&!d&&(b.find(".active-swatch").each(function(){var b=a(this),c=b.data("title");b.parents("tr").find(".wd-attr-selected").html(c)}),d=!0),i.image.src){var j=b.parents(".single-product-content").find('.thumbnails .product-image-thumbnail img[data-o_src="'+i.image.thumb_src+'"]').length>0,l=b.parents(".single-product-content").find(".thumbnails .product-image-thumbnail img").first(),n=b.parents(".single-product-content").find(".woocommerce-product-gallery .woocommerce-product-gallery__image > a").first().data("o_href");j&&l.wc_reset_variation_attr("src"),g(b)||m(i.variation_id,b)||(l.attr("src")!==i.image.thumb_src&&l.wc_set_variation_attr("src",i.image.src),woodmartThemeModule.$document.trigger("wdShowVariationNotQuickView")),b.addClass("variation-swatch-selected"),g(b)||f()||n===i.image.full_src||k();var o=a(".woocommerce-product-gallery__wrapper.owl-carousel");if(o.hasClass("owl-carousel")){"yes"===woodmart_settings.product_slider_auto_height?(!f()&&h(i.variation_id,b)&&c&&o.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){o=o.owlCarousel(woodmartThemeModule.mainCarouselArg),o.trigger("refresh.owl.carousel")})):(o=o.owlCarousel(woodmartThemeModule.mainCarouselArg),o.trigger("refresh.owl.carousel"));var p=a(".images .thumbnails");o.trigger("to.owl.carousel",0),p.hasClass("owl-carousel")?(p.owlCarousel().trigger("to.owl.carousel",0),p.find(".active-thumb").removeClass("active-thumb"),p.find(".product-image-thumbnail").eq(0).addClass("active-thumb")):p.hasClass("slick-slider")&&(p.slick("slickGoTo",0),p.find(".product-image-thumbnail").eq(0).hasClass("active-thumb")||(p.find(".active-thumb").removeClass("active-thumb"),p.find(".product-image-thumbnail").eq(0).addClass("active-thumb")))}}}))});var e=function(b){b.data("product_variations")&&b.find(".variations select").each(function(){var b=a(this),c=b.parent().find(".swatches-select"),d=b.html();d=a(d),c.find("> div").removeClass("swatch-enabled").addClass("swatch-disabled"),d.each(function(){var b=a(this).val();a(this).hasClass("enabled")?c.find('div[data-value="'+b+'"]').removeClass("swatch-disabled").addClass("swatch-enabled"):c.find('div[data-value="'+b+'"]').addClass("swatch-disabled").removeClass("swatch-enabled")})})},f=function(){return a(".single-product-content").hasClass("product-quick-view")},g=function(a){return a.parent().hasClass("quick-shop-form")},h=function(a,b){return"old"===woodmart_settings.variation_gallery_storage_method?i(a):j(a,b)},i=function(a){if("undefined"!=typeof woodmart_variation_gallery_data||"undefined"!=typeof woodmart_qv_variation_gallery_data){var b=f()?woodmart_qv_variation_gallery_data:woodmart_variation_gallery_data;return void 0!==b&&b&&b[a]}},j=function(a,b){var c=l(b);return void 0!==c&&c&&c[a]&&c[a].length>1},k=function(){if("yes"===woodmart_settings.swatches_scroll_top_desktop&&woodmartThemeModule.$window.width()>=1024||"yes"===woodmart_settings.swatches_scroll_top_mobile&&woodmartThemeModule.$window.width()<=1024){var b=a("html, body");b.stop(!0),woodmartThemeModule.$window.on("mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){b.stop(!0)}),b.animate({scrollTop:a(".product-image-summary").offset().top-150},800),a(".wd-swatch").tooltip("hide")}},l=function(a){var b=a.data("product_variations"),c=[];return b?(b.forEach(function(a){c[a.variation_id]=a.additional_variation_images,c.default=a.additional_variation_images_default}),c):c},m=function(b,d){if("old"===woodmart_settings.variation_gallery_storage_method){if(!h(b,d)||g(d)||"default"===b&&!c)return!1;n(b,d)}else{if(!h(b,d)||g(d)||"default"===b&&!c)return!1;var e=l(d);o(e[b],d)}return woodmartThemeModule.quickViewCarousel(),a(".woocommerce-product-gallery__image").trigger("zoom.destroy"),woodmartThemeModule.$document.trigger("wdReplaceMainGallery"),f()||woodmartThemeModule.$document.trigger("wdReplaceMainGalleryNotQuickView"),c="default"!==b,woodmartThemeModule.$window.trigger("resize"),!0},n=function(a,b){var c=f()?woodmart_qv_variation_gallery_data:woodmart_variation_gallery_data,d=c[a],e=b.parents(".single-product-content").find(".woocommerce-product-gallery__wrapper");e.empty();for(var g=0;g<d.length;g++){var h='<div class="product-image-wrap"><figure data-thumb="'+d[g].data_thumb+'" class="woocommerce-product-gallery__image">';f()||(h+='<a href="'+d[g].href+'">'),h+=d[g].image,f()||(h+="</a>"),h+="</figure></div>",e.append(h)}},o=function(a,b){var c=b.parents(".single-product-content").find(".woocommerce-product-gallery__wrapper");c.empty();for(var d in a)if(a.hasOwnProperty(d)){var e='<div class="product-image-wrap"><figure class="woocommerce-product-gallery__image" data-thumb="'+a[d].thumbnail_src+'">';f()||(e+='<a href="'+a[d].full_src+'" data-elementor-open-lightbox="no">');var g=a[d].srcset?'srcset="'+a[d].srcset+'"':"";e+='<img width="'+a[d].width+'" height="'+a[d].height+'" src="'+a[d].src+'" class="'+a[d].class+'" alt="'+a[d].alt+'" title="'+a[d].title+'" data-caption="'+a[d].data_caption+'" data-src="'+a[d].data_src+'"  data-large_image="'+a[d].data_large_image+'" data-large_image_width="'+a[d].data_large_image_width+'" data-large_image_height="'+a[d].data_large_image_height+'" '+g+' sizes="'+a[d].sizes+'" />',f()||(e+="</a>"),e+="</figure></div>",c.append(e)}}},a(document).ready(function(){woodmartThemeModule.swatchesVariations()})}(jQuery);