!function(a){woodmartThemeModule.miniCartQuantity=function(){var b;woodmartThemeModule.$document.on("change input",".woocommerce-mini-cart .quantity .qty",function(){var c=a(this),d=c.val(),e=c.parents(".woocommerce-mini-cart-item").data("key"),f=woodmart_settings.cart_hash_key,g=woodmart_settings.fragment_name;clearTimeout(b),b=setTimeout(function(){c.parents(".mini_cart_item").addClass("wd-loading"),a.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_cart_item",item_id:e,qty:d},success:function(b){b&&b.fragments&&(a.each(b.fragments,function(c,d){if(a(c).hasClass("widget_shopping_cart_content")){var f=a(d).find('.woocommerce-mini-cart-item[data-key="'+e+'"]'),g=a(d).find(".shopping-cart-widget-footer"),h=a(c).find('.woocommerce-mini-cart-item[data-key="'+e+'"]');b.cart_hash?(h.replaceWith(f),a(".shopping-cart-widget-footer").replaceWith(g)):a(c).replaceWith(d)}else a(c).replaceWith(d)}),woodmartThemeModule.supports_html5_storage&&(sessionStorage.setItem(g,JSON.stringify(b.fragments)),localStorage.setItem(f,b.cart_hash),sessionStorage.setItem(f,b.cart_hash),b.cart_hash&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())))},dataType:"json",method:"GET"})},500)})},a(document).ready(function(){woodmartThemeModule.miniCartQuantity()})}(jQuery);