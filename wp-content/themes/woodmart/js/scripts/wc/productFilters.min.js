!function(a){woodmartThemeModule.$document.on("wdShopPageInit",function(){woodmartThemeModule.productFilters()}),a.each(["frontend/element_ready/wd_product_filters.default"],function(a,b){woodmartThemeModule.wdElementorAddAction(b,function(){woodmartThemeModule.productFilters()})}),woodmartThemeModule.productFilters=function(){var b=function(a,b){if(0!==a.length){var c=a.val();c.indexOf(",")>0?a.val(c.replace(","+b,"").replace(b+",","")):a.val(c.replace(b,""))}};a(".wd-pf-checkboxes li > .pf-value").on("click",function(c){c.preventDefault();var d=a(this),e=d.parent(),f=d.parents(".wd-pf-checkboxes"),g=f.find(".result-input"),h=f.find(".wd-pf-results"),i=f.hasClass("multi_select"),j=g.val(),k=d.data("title"),l=d.data("val");i?e.hasClass("pf-active")?(b(g,l),h.find('li[data-title="'+l+'"]').remove(),e.removeClass("pf-active")):(""===j?g.val(l):g.val(j+","+l),h.prepend('<li class="selected-value" data-title="'+l+'">'+k+"</li>"),e.addClass("pf-active")):e.hasClass("pf-active")?(g.val(""),h.find(".selected-value").remove(),e.removeClass("pf-active")):(g.val(l),h.find(".selected-value").remove(),h.prepend('<li class="selected-value" data-title="'+l+'">'+k+"</li>"),e.parents(".wd-scroll-content").find(".pf-active").removeClass("pf-active"),e.addClass("pf-active"))});var c=a(".wd-pf-checkboxes");c.on("click",".selected-value",function(){var c=a(this),d=c.parents(".wd-pf-checkboxes"),e=d.find(".result-input"),f=c.data("title");if("price-filter"===f){var g=c.data("min"),h=c.data("max"),i=d.find(".price_slider_widget");return i.slider("values",0,g),i.slider("values",1,h),d.find(".min_price").val(""),d.find(".max_price").val(""),void woodmartThemeModule.$body.trigger("filter_price_slider_slide",[g,h,g,h,i])}b(e,f),d.find('.pf-value[data-val="'+f+'"]').parent().removeClass("pf-active"),c.remove()}),c.each(function(){var b=a(this),c=b.find(".wd-pf-title"),d=c.siblings(".wd-pf-dropdown"),e=b.hasClass("multi_select");c.on("click",function(e){var g=e.target;a(g).is(c.find(".selected-value"))||(b.hasClass("opened")?f():(b.addClass("opened"),d.slideDown(100),setTimeout(function(){woodmartThemeModule.$document.trigger("wdProductFiltersOpened")},300)))}),woodmartThemeModule.$document.on("click",function(d){var g=d.target;(b.hasClass("opened")&&e&&!a(g).is(b)&&!a(g).parents().is(b)||!e&&!a(g).is(c)&&!a(g).parents().is(c))&&f()});var f=function(){b.removeClass("opened"),d.slideUp(100)}});var d=function(b){b.find(".wd-pf-checkboxes").each(function(){var b=a(this);b.find('input[type="hidden"]').val()||b.find('input[type="hidden"]').remove()})},e=function(a){var b=a.find(".wd-pf-categories .pf-active .pf-value");b.length>0&&a.attr("action",b.attr("href"))};woodmartThemeModule.$body.on("filter_price_slider_create filter_price_slider_slide",function(a,b,c,d,e,f){var g=accounting.formatMoney(b,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),h=accounting.formatMoney(c,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format});f.siblings(".filter_price_slider_amount").find("span.from").html(g),f.siblings(".filter_price_slider_amount").find("span.to").html(h);var i=f.parents(".wd-pf-checkboxes").find(".wd-pf-results"),j=i.find(".selected-value");b===d&&c===e?j.remove():0===j.length?i.prepend('<li class="selected-value" data-title="price-filter" data-min="'+d+'" data-max="'+e+'">'+g+" - "+h+"</li>"):j.html(g+" - "+h),woodmartThemeModule.$body.trigger("price_slider_updated",[b,c])}),a(".wd-pf-price-range .price_slider_widget").each(function(){var b=a(this),c=b.siblings(".filter_price_slider_amount").find(".min_price"),d=b.siblings(".filter_price_slider_amount").find(".max_price"),e=parseInt(c.data("min")),f=parseInt(d.data("max")),g=parseInt(c.val()),h=parseInt(d.val());a(".price_slider_widget, .price_label").show(),b.slider({range:!0,animate:!0,min:e,max:f,values:[g,h],create:function(){g===e&&h===f&&(c.val(""),d.val("")),woodmartThemeModule.$body.trigger("filter_price_slider_create",[g,h,e,f,b])},slide:function(a,g){g.values[0]===e&&g.values[1]===f?(c.val(""),d.val("")):(c.val(g.values[0]),d.val(g.values[1])),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[g.values[0],g.values[1],e,f,b])},change:function(a,b){woodmartThemeModule.$body.trigger("price_slider_change",[b.values[0],b.values[1]])}})}),a(".wd-product-filters").one("click",".wd-pf-btn button",function(){var b=a(this),c=b.parents(".wd-product-filters");d(c),e(c),woodmartThemeModule.$body.hasClass("woodmart-ajax-shop-on")&&void 0!==a.fn.pjax&&c.hasClass("with-ajax")&&(a.pjax({container:".main-page-wrapper",timeout:woodmart_settings.pjax_timeout,url:c.attr("action"),data:c.serialize(),scrollTo:!1,renderCallback:function(a,b,c){woodmartThemeModule.removeDuplicatedStylesFromHTML(b,function(b){a.html(b),c(),woodmartThemeModule.$document.trigger("wdShopPageInit"),woodmartThemeModule.$document.trigger("wood-images-loaded")})}}),b.prop("disabled",!0))}),a(".wd-pf-checkboxes .pf-active > .pf-value").each(function(){var b=a(this);b.parents(".wd-pf-checkboxes").find(".wd-pf-results").prepend('<li class="selected-value" data-title="'+b.data("val")+'">'+b.data("title")+"</li>")})},a(document).ready(function(){woodmartThemeModule.productFilters()})}(jQuery);